<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UUID Generation Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { margin: 10px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .uuid { font-family: monospace; background: #f8f9fa; padding: 10px; margin: 5px 0; border: 1px solid #dee2e6; }
        .valid { color: green; }
        .invalid { color: red; }
    </style>
</head>
<body>
    <h1>UUID Generation Test</h1>
    
    <button onclick="testUUIDGeneration()">Generate UUIDs</button>
    <button onclick="clearResults()">Clear Results</button>
    
    <div id="results"></div>
    
    <script>
        // UUID generation function from our code
        function generateUUID() {
            if (typeof crypto !== 'undefined' && crypto.randomUUID) {
                return crypto.randomUUID();
            }
            // Fallback UUID generation for older browsers
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }
        
        // UUID validation regex
        function isValidUUID(uuid) {
            const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;
            return uuidRegex.test(uuid);
        }
        
        function testUUIDGeneration() {
            const resultsDiv = document.getElementById('results');
            
            for (let i = 0; i < 5; i++) {
                const uuid = generateUUID();
                const isValid = isValidUUID(uuid);
                
                const div = document.createElement('div');
                div.className = `uuid ${isValid ? 'valid' : 'invalid'}`;
                div.innerHTML = `
                    <strong>UUID ${i + 1}:</strong> ${uuid}<br>
                    <strong>Valid:</strong> ${isValid ? 'Yes' : 'No'}<br>
                    <strong>Method:</strong> ${typeof crypto !== 'undefined' && crypto.randomUUID ? 'crypto.randomUUID()' : 'Fallback'}
                `;
                
                resultsDiv.appendChild(div);
            }
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
    </script>
</body>
</html>
